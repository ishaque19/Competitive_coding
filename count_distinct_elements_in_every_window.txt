Count distinct elements in every window

Given an array of integers and a number K. Find the count of distinct elements in every window of size K in the array.

unordered_map<int,int> freq;
    
    vector <int> countDistinct (int a[], int n, int k)
    {
        vector<int> res;
        int size;
        
        //initially to push k elements
        for(int i=0;i<k;i++){
            freq[a[i]]++;
        }
        size=freq.size();
        res.push_back(size);
        int start=0;
        int end=k;
        
        while(end<n){
    
            freq[a[start]]--;
            if(freq[a[start]]==0)
                size--;
            start++;
            
            freq[a[end]]++;
            if(freq[a[end]]==1)
                size++;
            end++;
                
            res.push_back(size);
        }
        
        return res;
    }